
<header>
  <nav class="navbar navbar-light bg-dark">
    <div class="container-fluid">
      <!-- Navbar brand -->
      <a class="navbar-brand text-bg-primary bg-success">Navbar</a>
  
      <!-- Row with list items, input, and search button -->
      <div class="row align-items-center">
        <!-- List items on the left side -->
        
        
        <!-- Spacer to push input and search button to the right -->
        <div class="col-md-1"></div>
  
        <!-- Input -->
        <div class="col-md-6">
          <input type="date" [(ngModel)]="dateData" class="form-control" placeholder="Filter Transaction using Date">
        </div>
  
        <!-- Search button -->
        <div class="col-md-2">
          <button (click)="searchData()" class="btn btn-success">Search</button>
        </div>
     
      </div>
    </div>
  </nav>
  
  
  
<nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-dark">
  
  <!-- <div class="position-sticky"> -->

    <div class="list-group list-group-flush mx-3 mt-4">
     
      <button
        class="list-group-item list-group-item-action py-2 ripple"
        aria-current="true"
      >
      <i class="fas fa-chart-bar fa-fw me-3"></i> <span>  Admin dashboard</span>
      </button>

      <button
        routerLinkActive="active"
        class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
        (click)="showCustomerFun()"
      >
      <i class="fas fa-chart-bar fa-fw me-3"></i> <span>  Customers</span>
      </button>

      <button
        (click)="showTransaction()"
        routerLinkActive="active"
        class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
      >
      <i class="fas fa-chart-bar fa-fw me-3"></i> <span> Transaction</span>
      </button>

      <button
      (click)="handleCardClick()"
      routerLinkActive="active"
      class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
    >
    <i class="fas fa-chart-bar fa-fw me-3"></i> <span> View Query Request</span>
    </button>
    <button
    (click)="handleAccountRequest()"
    routerLinkActive="active"
    class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
  >
  <i class="fas fa-chart-bar fa-fw me-3"></i> <span> Account Requests</span>
  </button>
  <!-- <button
  (click)="AccountTransactionFilter()"
  routerLinkActive="active"
  class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
>
  <i class="fas fa-chart-bar fa-fw me-3"></i><span> Filter Transactions</span>
</button> -->
<button
(click)="UpdateInterest()"
routerLinkActive="active"
class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
>
<i class="fas fa-chart-bar fa-fw me-3"></i><span>Set Interest Rate</span>
</button>
<button
(click)="showCrud()"
routerLinkActive="active"
class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
>
<i class="fas fa-chart-bar fa-fw me-3"></i><span>Customer CRUD</span>
</button>
<button
(click)="logout()"
routerLinkActive="active"
class="list-group-item list-group-item-action py-2 ripple mt-lg-2"
>
<i class="fas fa-chart-bar fa-fw me-3"></i><span> Logout</span>
</button>
    </div>
  
</nav>



</header>
<!--Main Navigation-->

<!--Main layout-->
<main style="margin-top: 4px;">
 
  <ngb-alert *ngIf="resultArray">
    <h1 class="text-success">No Transaction have </h1>
    <button type="button" class="btn btn-success" (click)="reset()">Clear</button> 
  </ngb-alert>
  <div class="container mt-5" *ngIf="resultcondition">
    <h1 class="text-success">Searched Data</h1>
      <table class="table table-striped table-bordered table-responsive-lg"   >
        <thead class="bg-dark text-white">
          <tr>
            <th>Account Number</th>
            <th>Description</th>
            <th>State</th>
            <th>Amount</th>
            <th>Date</th>
            <th>Transaction Type</th>
          </tr>
        </thead>
        <tbody>
          <!-- *ngFor="let resulta of result -->
          <tr *ngFor="let resulta of result">
            <td>{{resulta.accountId }}</td>
            <td>{{resulta.description }}</td>
            <td>{{resulta.state }}</td>
            <td>{{resulta.transactionAmount}}</td>
            <td>{{resulta.transactionDate}}</td>
            <td>{{resulta.transactionType }}</td>
          </tr>
        </tbody>
          <button type="button" class="btn btn-success" (click)="reset()">Clear</button>    
      </table>
     
  </div>

  <div *ngIf="eroorQuerySubmit" class="mt-3"> <!-- Add margin-top for spacing -->
    <ngb-alert [type]="'danger'"> <!-- Use 'danger' for a red alert -->
      <h4 class="alert-heading">Check you have Entered correct CustomerId</h4>
      <p class="mb-0">Please verify the information and try again.</p>
      <button class="btn btn-danger" (click)="reset()">Try Again</button>
    </ngb-alert>
  </div>
  <ngb-alert *ngIf="noQueryAdded" >
    Sorry No Query Request Added <button type="button" class="btn btn-success" (click)="reset()">Clear</button> 
  </ngb-alert>


  <div class="container mt-4" *ngIf="showQueryResult">
    <div class="row">
      <!-- Left Column (Upper part) -->
      <div class="col-md-6">
        <h2>Customer Queries</h2>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Query Message</th>
              <th>Customer ID</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let query of customerQueries">
              <td>{{ query.queryText }}</td>
              <td>{{ query.customerId }}</td>
              <td>
                <button class="btn btn-primary" (click)="generateReplyForm()">Reply</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <!-- Right Column (Lower part) -->
      <div class="col-md-6" *ngIf="formShow">
        <h2>Reply to Query</h2>
        <form [formGroup]="replyForm" (ngSubmit)="onSubmit(replyForm.value)">
          <div class="mb-3">
            <label for="replyMessage" class="form-label">Reply Message:</label>
            <textarea class="form-control" formControlName="replyQuery"></textarea>
            <span class="error-message" *ngIf="replyValidator && replyValidator.invalid && replyValidator.touched">
              Required Reply Text
            </span>
          </div>
          <div class="mb-3">
            <label for="customerId" class="form-label">Customer ID:</label>
            <input type="number" class="form-control" formControlName="customerId">
            <span class="error-message" *ngIf="cutomerIdValidator && cutomerIdValidator.invalid && cutomerIdValidator.touched">
              Required Customer ID
            </span>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>
  
  
  


  <div *ngIf="showAccountTransactions">
    <app-account-filter></app-account-filter>
  </div>
  
  <div *ngIf="showCustomerAll">
    <app-show-customer></app-show-customer>
<app-update-customer></app-update-customer>
  </div>
  
  <div *ngIf="showAccountRequest">
<app-admin-account-request></app-admin-account-request>
  </div>
  
  <div *ngIf="showUpdateInterest">
    <app-set-interest></app-set-interest>

  </div>


  <div *ngIf="showTransactionState">
<app-transaction-show></app-transaction-show>
  </div>
  
  <div *ngIf="showCrudeState">
    <app-crud-customer></app-crud-customer>
  </div>
 
</main>
<!--Main layout-->